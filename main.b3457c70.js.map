{"version":3,"sources":["scripts/main.js"],"names":["personArray","document","querySelector","namesColumnArray","getNumberFromString","value","result","Number","replace","sortListASC","columnN","children","sort","a","b","innerText","nextValue","isNaN","localeCompare","forEach","person","append","isClickedArray","addEventListener","e","titles","target","parentElement","matches","i","indexOf","find","item","reverse","parentNode","push","selectedPerson","classList","remove","add","form","createElement","body","objInput","element","label","innerHTML","map","el","join","setAttribute","toLowerCase","button","type","pushNotification","posTop","posRight","title","description","elementMessage","createNewElement","textOfElement","creatElem","className","style","right","parseFloat","getComputedStyle","top","window","innerHeight","height","boxSizing","setTimeout","textNotification","checkValue","cellValue","length","createNewCell","initialValue","newTextString","lastElementChild","previousElementSibling","firstElementChild","preventDefault","row","count","checked","cell","textValue","dataset","qa","toLocaleString","selectedCell","newText","ev","code"],"mappings":";AAAA,aA8PA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EA5PA,IAAMA,EAAcC,SAASC,cAAc,SACrCC,EAAmBF,SAASC,cAAc,SAIhD,SAASE,EAAoBC,GAKpBC,OAJQC,OACbF,EAAMG,QAAQ,KAAM,IAAIA,QAAQ,IAAK,KAMzC,SAASC,EAAYC,GACI,EAAIV,EAAYW,UAAUC,KAAK,SAACC,EAAGC,GAClDT,IAAAA,EAAQQ,EAAEF,SAASD,GAASK,UAC5BC,EAAYF,EAAEH,SAASD,GAASK,UAElC,OAACE,MAAMb,EAAoBC,IAIxBA,EAAMa,cAAcF,GAHlBZ,EAAoBC,GAASD,EAAoBY,KAM7CG,QAAQ,SAAAC,GAAUpB,OAAAA,EAAYqB,OAAOD,KAGtD,IAAME,EAAiB,GAEvBnB,EAAiBoB,iBAAiB,QAAS,SAACC,GACpCC,IAAAA,EAASD,EAAEE,OAAOC,cAAchB,SAElC,GAACa,EAAEE,OAAOE,QAAQ,MAAlB,CAIEC,IAAAA,EAAI,EAAIJ,GAAQK,QAAQN,EAAEE,QAEjBJ,EAAeS,KAAK,SAAAC,GAC1BA,OAAAA,IAASR,EAAEE,OAAOX,YAOrBf,EAAAA,EAAYW,UAAUsB,UAAUd,QAAQ,SAAAa,GAC1CA,EAAKE,WAAWb,OAAOW,MAJzBvB,EAAYoB,GACZP,EAAea,KAAKX,EAAEE,OAAOX,eAM9B,GAIHf,EAAYuB,iBAAiB,QAAS,SAACC,GACjC,GAACA,EAAEE,OAAOE,QAAQ,MAAlB,CAIEQ,IAAAA,EAAiBpC,EAAYE,cAAc,WAE1B,OAAnBkC,GACFA,EAAeC,UAAUC,OAAO,UAGlCd,EAAEE,OAAOC,cAAcU,UAAUE,IAAI,aAKvC,IAAMC,EAAOvC,SAASwC,cAAc,QAEpCD,EAAKH,UAAUE,IAAI,qBACnBtC,SAASyC,KAAKrB,OAAOmB,GAErB,IAAMG,EAAW,CACP,KAAA,OACI,SAAA,OAEV,OAAA,CAJa,QAAA,YAAA,SAAA,WAAA,YAAA,iBAKR,IAAA,SACG,OAAA,UAGZ,IAAK,IAAMC,KAAWD,EAAU,CACxBE,IAAAA,EAAQ5C,SAASwC,cAAc,SAErB,WAAZG,IACFC,EAAMC,UACJF,SAAAA,OAAAA,EAAqCD,+BAAAA,OAAAA,EAASC,GADhD,WAKc,WAAZA,IACFC,EAAMC,WACJF,SAAAA,OAAAA,EAEED,0CAAAA,OAAAA,EAASC,GAASG,IAAI,SAAAC,GACRA,MAAAA,WAAAA,OAAAA,EAAlB,eACCC,KAAK,IALN,wBAUFJ,EAAMK,aAAa,UAAWN,EAAQO,eAEtCX,EAAKnB,OAAOwB,GAEZF,EAASC,GAAWC,EAGtB,IAAMO,EAASnD,SAASwC,cAAc,UAEtCW,EAAOrC,UAAY,gBACnBqC,EAAOC,KAAO,SAEdb,EAAKnB,OAAO+B,GAIZ,IAAME,EAAmB,SAACC,EAAQC,EAAUC,EAAOC,EAAaL,GACxDM,IAAAA,EAAiB1D,SAASwC,cAAc,OAIrCmB,SAAAA,EAAiBhB,EAASiB,GAC3BC,IAAAA,EAAY7D,SAASwC,cAAcG,GAMlCkB,OAJPA,EAAUhB,UAAee,GAAAA,OAAAA,EAAcrD,QAAQ,IAAK,YACpDsD,EAAUZ,aAAa,UAAW,gBAClCS,EAAetC,OAAOyC,GAEfA,EATTH,EAAetB,UAAUE,IAAIc,EAAM,gBAYdO,EAAiB,KAAMH,GAE/BM,UAAY,QAEzBH,EAAiB,IAAKF,GAEtBzD,SAASyC,KAAKrB,OAAOsC,GAErBA,EAAeK,MAAMC,MACdC,GAAAA,OAAAA,WAAWC,iBAAiBR,GAAgBM,OAAST,EAD5D,MAGAG,EAAeK,MAAMI,IACdC,GAAAA,OAAAA,OAAOC,YACRJ,WAAWC,iBAAiBR,GAAgBY,QAAUhB,EAF5D,MAGAI,EAAeK,MAAMQ,UAAY,cAEjCC,WAAW,WACTd,EAAerB,UACd,MAGDoC,EAAmB,GAEvB,SAASC,EAAWjE,EAASkE,GAcpBF,OAbS,IAAZhE,GAAiBkE,EAAUC,OAAS,IACtCH,GACK,0DAGS,IAAZhE,IAAkBkE,EAAY,IAAMA,EAAY,MAClDF,GAAoB,8CAGN,IAAZhE,GAA6B,IAAZA,IACnBgE,GAAoB,IAGfA,EAkDT,SAASI,EAAcpD,EAAQqD,EAAcC,GACtCtD,OAAAA,EAAOC,cAAcsD,mBAAqBvD,GACtCnB,OAAOU,MAAMb,EAAoB4E,KAClCtD,EAAOC,cAAcsD,iBAAiBC,yBAClCxD,GACHnB,OAAOU,MAAMV,OAAOyE,IAEpB1B,EAAiB,GAAI,GAAI,2BACL,wBAAA,SAGzB5B,EAAOC,cAAcwD,oBAAsBzD,GAC1CsD,EAAcH,OAAS,EACnBvB,EAAiB,GAAI,GAAI,2BAC4B,yDAAA,SAG1D5B,EAAOC,cAAcsD,iBAAiBC,yBAClCxD,IACFsD,EAAgB,IAAMA,EAAgB,IACnC1B,EAAiB,GAAI,GAAI,2BACc,2CAAA,UAGhDyB,EAAazC,SACbZ,EAAOW,UAAUC,OAAO,mBACxBZ,EAAOX,UAAYiE,IAzErB5B,EAAO7B,iBAAiB,QAAS,SAACC,GAChCA,EAAE4D,iBAEIC,IAAAA,EAAMpF,SAASwC,cAAc,MAE/B6C,EAAQ,EACRC,EAAU,EAET,IAAA,IAAM3C,KAAWD,EAAU,CACxB6C,IAAAA,EAAOvF,SAASwC,cAAc,MAEhCgD,EAAY9C,EAASC,GAASuC,kBAAkB9E,MAEf,WAAjCsC,EAASC,GAAS8C,QAAQC,KAC5BF,EACQlF,IAAAA,OAAAA,OAAOoC,EAASC,GACnBuC,kBAAkB9E,OAAOuF,eAAe,WAGV,KAAjCjB,EAAWW,EAAOG,KACpBD,EAAKzE,UAAY0E,EACjBJ,EAAIhE,OAAOmE,GACXD,KAGFD,IAeG,IAAA,IAAM1C,KAZP0C,IAAUC,GACZvF,EAAYqB,OAAOgE,GAEnB/B,EAAiB,GAAI,GAAI,yBACvB,uBAAwB,aAE1BA,EAAiB,GAAI,GAAI,2BACpBoB,GAAAA,OAAAA,GAAoB,SAEzBA,EAAmB,IAGC/B,EACpBA,EAASC,GAASuC,kBAAkB9E,MAAQ,KAmChDL,EAAYuB,iBAAiB,WAAY,SAACC,GAClCqE,IAAAA,EAAe7F,EAAYE,cAAc,SAC3C4F,EAAUtE,EAAEE,OAAOX,UAEnB,GAACS,EAAEE,OAAOE,QAAQ,OAA0B,OAAjBiE,EAA3B,CAIEL,IAAAA,EAAOvF,SAASwC,cAAc,SAEpCjB,EAAEE,OAAOX,UAAY,GACrBS,EAAEE,OAAOL,OAAOmE,GAEhBhE,EAAEE,OAAOW,UAAUE,IAAI,cAEvBf,EAAEE,OAAOH,iBAAiB,OAAQ,WAChCuD,EAActD,EAAEE,OAAQ8D,EAAMM,KAC7B,GAEHtE,EAAEE,OAAOH,iBAAiB,UAAW,SAACwE,GACjB,KAAfP,EAAKnF,QACPyF,EAAUN,EAAKnF,OAGbmB,EAAEE,OAAOC,cAAcsD,mBAAqBzD,EAAEE,SAChDoE,EAAcvF,IAAAA,OAAAA,OAAOuF,GAASF,eAAe,WAG/B,UAAZG,EAAGC,MACLlB,EAActD,EAAEE,OAAQ8D,EAAMM","file":"main.b3457c70.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst personArray = document.querySelector('tbody');\nconst namesColumnArray = document.querySelector('thead');\n\n// Table sorting by clicking on the title\n\nfunction getNumberFromString(value) {\n  const result = Number(\n    value.replace(/,/g, '').replace('$', '')\n  );\n\n  return result;\n}\n\nfunction sortListASC(columnN) {\n  const newPersonArray = [...personArray.children].sort((a, b) => {\n    const value = a.children[columnN].innerText;\n    const nextValue = b.children[columnN].innerText;\n\n    if (!isNaN(getNumberFromString(value))) {\n      return getNumberFromString(value) - getNumberFromString(nextValue);\n    }\n\n    return value.localeCompare(nextValue);\n  });\n\n  newPersonArray.forEach(person => personArray.append(person));\n}\n\nconst isClickedArray = [];\n\nnamesColumnArray.addEventListener('click', (e) => {\n  const titles = e.target.parentElement.children;\n\n  if (!e.target.matches('th')) {\n    return;\n  }\n\n  const i = [...titles].indexOf(e.target);\n\n  const column = isClickedArray.find(item => {\n    return item === e.target.innerText;\n  });\n\n  if (!column) {\n    sortListASC(i);\n    isClickedArray.push(e.target.innerText);\n  } else {\n    [...personArray.children].reverse().forEach(item => {\n      item.parentNode.append(item);\n    });\n  }\n}, true);\n\n// Selected row.\n\npersonArray.addEventListener('click', (e) => {\n  if (!e.target.matches('td')) {\n    return;\n  }\n\n  const selectedPerson = personArray.querySelector('.active');\n\n  if (selectedPerson !== null) {\n    selectedPerson.classList.remove('active');\n  }\n\n  e.target.parentElement.classList.add('active');\n});\n\n// Adding new employees to the spreadsheet.\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\ndocument.body.append(form);\n\nconst objInput = {\n  'Name': 'text',\n  'Position': 'text',\n  'Office':\n    [`Tokyo`, `Singapore`, `London`, `New York`, `Edinburgh`, `San Francisco`],\n  'Age': 'number',\n  'Salary': 'number',\n};\n\nfor (const element in objInput) {\n  const label = document.createElement('label');\n\n  if (element !== 'Office') {\n    label.innerHTML = `\n    ${element}: <input name=\"name\" type=\"${objInput[element]}\">\n  `;\n  }\n\n  if (element === 'Office') {\n    label.innerHTML += `\n    ${element}:\n    <select name =\"office\">\n      ${objInput[element].map(el => {\n    return `<option>${el}</option>`;\n  }).join('')}\n    </select>\n  `;\n  }\n\n  label.setAttribute('data-qa', element.toLowerCase());\n\n  form.append(label);\n\n  objInput[element] = label;\n}\n\nconst button = document.createElement('button');\n\nbutton.innerText = 'Save to table';\nbutton.type = 'submit';\n\nform.append(button);\n\n// Notification if form data is invalid.\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const elementMessage = document.createElement('div');\n\n  elementMessage.classList.add(type, 'notification');\n\n  function createNewElement(element, textOfElement) {\n    const creatElem = document.createElement(element);\n\n    creatElem.innerHTML = `${textOfElement.replace('.', '. </br>')}`;\n    creatElem.setAttribute('data-qa', 'notification');\n    elementMessage.append(creatElem);\n\n    return creatElem;\n  }\n\n  const titleElement = createNewElement('h2', title);\n\n  titleElement.className = 'title';\n\n  createNewElement('p', description);\n\n  document.body.append(elementMessage);\n\n  elementMessage.style.right\n    = `${parseFloat(getComputedStyle(elementMessage).right) + posRight}px`;\n\n  elementMessage.style.top\n    = `${window.innerHeight\n      - parseFloat(getComputedStyle(elementMessage).height) + posTop}px`;\n  elementMessage.style.boxSizing = 'content-box';\n\n  setTimeout(() => {\n    elementMessage.remove();\n  }, 2000);\n};\n\nlet textNotification = '';\n\nfunction checkValue(columnN, cellValue) {\n  if (columnN === 0 && cellValue.length < 4) {\n    textNotification\n      += 'The number of letters in the name must be more than 4.';\n  }\n\n  if (columnN === 3 && (cellValue < 18 || cellValue > 90)) {\n    textNotification += ' Age must be between 18 and 90 years old. ';\n  }\n\n  if (columnN !== 0 && columnN !== 3) {\n    textNotification += '';\n  }\n\n  return textNotification;\n}\n\nbutton.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  const row = document.createElement('tr');\n\n  let count = 0;\n  let checked = 0;\n\n  for (const element in objInput) {\n    const cell = document.createElement('td');\n\n    let textValue = objInput[element].firstElementChild.value;\n\n    if (objInput[element].dataset.qa === 'salary') {\n      textValue\n        = `$${Number(objInput[element]\n          .firstElementChild.value).toLocaleString('en-US')}`;\n    }\n\n    if (checkValue(count, textValue) === '') {\n      cell.innerText = textValue;\n      row.append(cell);\n      checked++;\n    }\n\n    count++;\n  }\n\n  if (count === checked) {\n    personArray.append(row);\n\n    pushNotification(10, 10, 'Data entered correctly',\n      'Data added to table.', 'success');\n  } else {\n    pushNotification(10, 10, 'Data entered incorrectly',\n      `${textNotification}`, 'error');\n\n    textNotification = '';\n  }\n\n  for (const element in objInput) {\n    objInput[element].firstElementChild.value = '';\n  }\n});\n\n// Editing of table cells by double-clicking on it (optional).\n\nfunction createNewCell(target, initialValue, newTextString) {\n  if ((target.parentElement.lastElementChild === target\n        && Number.isNaN(getNumberFromString(newTextString)))\n      || (target.parentElement.lastElementChild.previousElementSibling\n          === target\n        && Number.isNaN(Number(newTextString)))\n  ) {\n    return pushNotification(10, 10, 'Data entered incorrectly',\n      `Data must be a number`, 'error');\n  }\n\n  if (target.parentElement.firstElementChild === target\n    && newTextString.length < 4) {\n    return pushNotification(10, 10, 'Data entered incorrectly',\n      `The number of letters in the name must be more than 4.`, 'error');\n  }\n\n  if (target.parentElement.lastElementChild.previousElementSibling\n      === target\n    && (newTextString < 18 || newTextString > 90)) {\n    return pushNotification(10, 10, 'Data entered incorrectly',\n      `Age must be between 18 and 90 years old.`, 'error');\n  }\n\n  initialValue.remove();\n  target.classList.remove('cell-input');\n  target.innerText = newTextString;\n}\n\npersonArray.addEventListener('dblclick', (e) => {\n  const selectedCell = personArray.querySelector('input');\n  let newText = e.target.innerText;\n\n  if (!e.target.matches('td') || selectedCell !== null) {\n    return;\n  }\n\n  const cell = document.createElement('input');\n\n  e.target.innerText = '';\n  e.target.append(cell);\n\n  e.target.classList.add('cell-input');\n\n  e.target.addEventListener('blur', () => {\n    createNewCell(e.target, cell, newText);\n  }, true);\n\n  e.target.addEventListener('keydown', (ev) => {\n    if (cell.value !== '') {\n      newText = cell.value;\n    }\n\n    if (e.target.parentElement.lastElementChild === e.target) {\n      newText = `$${Number(newText).toLocaleString('en-US')}`;\n    }\n\n    if (ev.code === 'Enter') {\n      createNewCell(e.target, cell, newText);\n    }\n  });\n});\n"]}